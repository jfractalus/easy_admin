<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head th:fragment="bootstrap">
        <link rel="stylesheet" th:href="@{'/css/main/base-tpl.css'}" />
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" />
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" />
    </head>
    <head th:fragment="main">
        <script th:src="@{'/js/main/rest.js'}" />
    </head>
    <head th:fragment="editor">
        <link rel="stylesheet" href="//cdn.rawgit.com/Eonasdan/bootstrap-datetimepicker/e8bddc60e73c1ec2475f827be36e1957af72e2ea/build/css/bootstrap-datetimepicker.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css"/>
        <th:block th:replace="main/view-library :: time-localization" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"/>
        <script th:src="@{'/js/main/html-interactions.js'}" />
        <script src="http://cloud.tinymce.com/stable/tinymce.min.js?apiKey=es9km04xwcl9l9hm9nducy4ahor6luhdm0vmf4w9qkzf6xbd"/>
        <script th:src="@{'/js/main/item-editor.js'}" />
    </head>
    <head th:fragment="table">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.css" />
        <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />
        <th:block th:replace="main/view-library :: time-localization" />
        <script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js" />
        <script th:src="@{'/js/lib/bootstrap-table.js'}" />                                 <!-- Core library:  "//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.js" -->
        <script th:src="@{'/js/lib/bootstrap-table-filter-control.js'}" />                  <!-- Core library:  "https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/extensions/filter-control/bootstrap-table-filter-control.js" -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/extensions/flat-json/bootstrap-table-flat-json.js" />
        <script src="//rawgit.com/hhurz/tableExport.jquery.plugin/master/tableExport.js" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/extensions/export/bootstrap-table-export.js" />
    </head>
    <head th:fragment="time-localization">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/locale/ru.js" />
    </head>
    <head th:fragment="websoket">
        <script src="https://cdn.jsdelivr.net/sockjs/1/sockjs.min.js"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.js"/>
        <script th:src="@{'/js/main/websoket.js'}" />
        <script th:src="@{'/js/main/lodash.js'}" />
        <script th:src="@{'/js/main/html-interactions.js'}" />
    </head>
    <head th:fragment="search">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.js"/>
        <script type="text/javascript">
            $(document).ready(function() {
                var $select = $(".header-search");
                $select.select2({
                    placeholder: "Поиск таблиц",
                    allowClear: true,
                    width: 200
                }).on("select2:select", function (evt) {
                    if($select.val()){
                        var url = $select.val();
                        $select.val(null).trigger("change");
                        window.location = url;
                    }
                });
            });
        </script>
    </head>
</html>